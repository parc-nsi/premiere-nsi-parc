I"[<!-- Définition des hyperliens  -->

<h1 id="crédits--">Crédits {-}</h1>

<p><em>Ce cours est largement inspiré des chapitres 5 et 8 du manuel NSI de la collection Tortue chez Ellipse,  auteurs : Ballabonski, Conchon, Filliatre, N’Guyen. Le prepabac Première NSI de Guillaume Connan chez Hatier a également été consulté.</em></p>

<!-- Définition des hyperliens  -->

<h1 id="situation-daccroche">Situation d’accroche</h1>

<p>:::exercice</p>

<ol>
  <li>Écrire une fonction <code class="language-plaintext highlighter-rouge">moyenne3notes(a, b, c)</code> qui renvoie la moyenne arithmétique d’une série de 3 notes <code class="language-plaintext highlighter-rouge">a, b, c</code>.</li>
  <li>Proposer une fonction <code class="language-plaintext highlighter-rouge">moyenne(n)</code> qui prend en paramètres un nombre de notes et retourne la moyenne de ces notes saisies par l’utilisateur.</li>
  <li>Quel(s) mécanisme(s) pourrai(en)t  nous permettre d’écrire une fonction qui calcule la moyenne d’une série de notes sans interaction avec l’utilisateur du programme ?</li>
</ol>

<p>:::</p>

<h1 id="définition-dun-tableau">Définition d’un tableau</h1>

<p>:::definition</p>

<ul>
  <li>Un  objet est un <strong>conteneur</strong> s’il peut conteneur plusieurs objets.</li>
  <li>Un <strong>conteneur</strong>  est une <strong>séquence</strong> s’il contient une <strong>collection ordonnée</strong> d’objets qui sont accessibles  par leur <strong>index</strong> dans la séquence.</li>
  <li>Un <strong>tableau</strong> est une structure de données qui est un <strong>conteneur</strong> et une <strong>séquence</strong>. Il permet de stocker plusieurs éléments dans une seule variable et d’y accéder par leur <strong>index</strong>.</li>
</ul>

<p>:::</p>

<p><img src="images/tableau0.png" alt="tableau0" />{width=50%}\</p>

<h1 id="tableaux-en-python">Tableaux en Python</h1>

<p>:::cours</p>

<ul>
  <li>En <a href="https://docs.python.org/3/tutorial/datastructures.html">Python</a>, les tableaux sont implémentés dans le  type <code class="language-plaintext highlighter-rouge">list</code>  et on les nomme souvent listes même si les listes désignent en général une autre structure de données. Le type <code class="language-plaintext highlighter-rouge">list</code> est suffisamment flexible pour représenter la structure de données tableau et d’autres comme les listes, piles, files …
<em>Dans la suite de ce cours, on désigne par tableaux, les objets de type <code class="language-plaintext highlighter-rouge">list</code> du langage <a href="https://docs.python.org/3/tutorial/datastructures.html">Python</a>. Dans les exercices, comme dans les QCM d’E3C, on rencontrera parfois l’appellation Python liste pour désigner la structure de données tableau</em></li>
  <li>Un tableau <a href="https://docs.python.org/3/tutorial/datastructures.html">Python</a> est une expression délimitée par des crochets et les éléments dans l’ordre croissant des index de gauche à droite sont séparés par le symbole virgule <code class="language-plaintext highlighter-rouge">,</code> :
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span> <span class="c1"># on affecte le tableau [4, 20, 10] à t
</span><span class="o">&gt;&gt;&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="mi">3</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="mi">4</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="mi">10</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s">"&lt;stdin&gt;"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="nb">IndexError</span><span class="p">:</span> <span class="nb">list</span> <span class="n">index</span> <span class="n">out</span> <span class="n">of</span> <span class="nb">range</span>   
<span class="o">&gt;&gt;&gt;</span> <span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">6</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t</span>
<span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
</code></pre></div>    </div>
  </li>
  <li>La séquence de valeurs contenue dans un tableau est indexée à partir de 0.</li>
  <li>Le <strong>nombre d’éléments</strong> d’un tableau affecté à une variable <code class="language-plaintext highlighter-rouge">t</code> est donné par la fonction <code class="language-plaintext highlighter-rouge">len</code> avec  <code class="language-plaintext highlighter-rouge">len(t)</code>.
Un <strong>tableau vide</strong> est noté <code class="language-plaintext highlighter-rouge">[]</code>.</li>
  <li>On accède à l’élément d’index <code class="language-plaintext highlighter-rouge">k</code> avec la syntaxe <code class="language-plaintext highlighter-rouge">t[k]</code>.</li>
  <li>On peut manipuler l’élément d’index <code class="language-plaintext highlighter-rouge">k</code> comme une variable et modifier sa valeur par une affectation avec la syntaxe <code class="language-plaintext highlighter-rouge">t[k] = valeur</code>.</li>
  <li>On peut considérer que l’accès et la modification d’un élément à partir de son index se fait en <strong>temps constant</strong>, car les éléments sont stockés de façon  contigue en mémoire et l’index donne le nombre de décalages depuis le premier élément.</li>
  <li>Un tableau est <strong>itérable</strong>, c’est-à-dire qu’on peut parcourir ses éléments avec une boucle <code class="language-plaintext highlighter-rouge">for</code>:
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">t</span><span class="p">:</span>
<span class="p">...</span>     <span class="k">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="p">...</span> 
<span class="mi">4</span>
<span class="mi">20</span>
<span class="mi">10</span>
</code></pre></div>    </div>
  </li>
  <li>En <a href="https://docs.python.org/3/tutorial/datastructures.html">Python</a>, les tableaux peuvent contenir des éléments de types hétérogènes mais nous manipulerons principalement des tableaux homogènes (types <code class="language-plaintext highlighter-rouge">int, float, string</code>, <code class="language-plaintext highlighter-rouge">bool</code>).</li>
  <li>En <a href="https://docs.python.org/3/tutorial/datastructures.html">Python</a>, les tableaux sont <strong>dynamiques</strong>, leur taille peut varier.
:::</li>
</ul>

<h1 id="accès-aux-éléments-dun-tableau">Accès aux éléments d’un tableau</h1>

<p>:::methode</p>
<ul>
  <li>Dans un tableau <code class="language-plaintext highlighter-rouge">tab</code>, chaque élément de la séquence ordonnée est repéré par son index <code class="language-plaintext highlighter-rouge">k</code> qui permet d’accéder à l’élément avec l’expression <code class="language-plaintext highlighter-rouge">tab[k]</code> ou de  le modifier avec l’instruction <code class="language-plaintext highlighter-rouge">tab[k] = valeur</code>.</li>
  <li><a href="https://docs.python.org/3/tutorial/datastructures.html">Python</a> permet également d’extraire un sous-tableau d’un tableau <code class="language-plaintext highlighter-rouge">tab</code> avec l’expression <code class="language-plaintext highlighter-rouge">tab[debut:fin]</code> qui représente la sous-séquence de <code class="language-plaintext highlighter-rouge">fin - debut</code> éléments, entre l’élément d’index <code class="language-plaintext highlighter-rouge">debut</code> inclus et l’élément d’index <code class="language-plaintext highlighter-rouge">fin</code> exclu, comme pour <code class="language-plaintext highlighter-rouge">range(debut, fin)</code>. Ce mécanisme de découpage en tranches est désigné par le terme de <em>slicing</em>.</li>
  <li><a href="https://docs.python.org/3/tutorial/datastructures.html">Python</a> permet de repérer les éléments avec des index négatifs représentant le décalage par rapport à la  la fin de la séquence, mais nous ne les utiliserons pas car ils sont source d’erreurs.</li>
</ul>

<p><img src="images/slices.png" alt="tranches" />\</p>

<p><em>Figure modifiée à partir d’une source de Louis Leskow inspirée d’un memento de Laurent Pointal</em></p>

<ul>
  <li>On peut tester l’appartenance d’un élément à un tableau avec l’opérateur <code class="language-plaintext highlighter-rouge">in</code>  et sa négation <code class="language-plaintext highlighter-rouge">not in</code>. Cette opération s’effectue en moyenne en coût proportionnel à la taille du tableau.</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">t</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t</span>
<span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">4</span> <span class="ow">in</span> <span class="n">t</span>
<span class="bp">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">6</span> <span class="ow">in</span> <span class="n">t</span>
<span class="bp">False</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">6</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">t</span>
<span class="bp">True</span>
</code></pre></div></div>
<p>:::</p>

<p>:::exercice</p>

<ol>
  <li>Soit la liste  suivante : <code class="language-plaintext highlighter-rouge">liste_pays = ["France","Allemagne","Italie","Belgique"]</code>.</li>
</ol>

<p>Que renvoie : <code class="language-plaintext highlighter-rouge">liste_pays[2]</code> ?</p>

<ol>
  <li>Quelle est la valeur référencée par le tableau L après exécution du programme ci-dessous ?</li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="mi">731</span><span class="p">,</span> <span class="mi">732</span><span class="p">,</span> <span class="mi">734</span><span class="p">]</span>
  <span class="n">L</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">L</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">L</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">L</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
  <span class="n">M</span> <span class="o">=</span> <span class="n">L</span>
  <span class="n">M</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">732</span>
</code></pre></div></div>
<p><strong>Réponse 1 :</strong> [732, 731, 734]     <strong>Réponse 2 :</strong>  [731, 732, 734]   <strong>Réponse 3 :</strong>  [732, 732, 734]</p>

<ol>
  <li>
    <p>On définit :  <code class="language-plaintext highlighter-rouge">L = [10,9,8,7,6,5,4,3,2,1]</code>.
  Quelle est la valeur de  <code class="language-plaintext highlighter-rouge">L[L[3]]</code> ?</p>

    <ul>
      <li><strong>Réponse 1 :</strong>  3    <strong>Réponse 2 :</strong>   4</li>
      <li><strong>Réponse 3 :</strong> 7   <strong>Réponse 4 :</strong>  8</li>
    </ul>
  </li>
  <li>
    <p>Écrire une fonction <code class="language-plaintext highlighter-rouge">recherche(tab, element)</code> qui prend en paramètre un tableau et un élément et qui retourne <code class="language-plaintext highlighter-rouge">True</code> si <code class="language-plaintext highlighter-rouge">element</code> est dans <code class="language-plaintext highlighter-rouge">tab</code> et <code class="language-plaintext highlighter-rouge">False</code> sinon.
:::</p>
  </li>
</ol>

<h1 id="construction-dun-tableau">Construction d’un tableau</h1>

<p>:::methode</p>

<p>Il existe plusieurs façons de définir un tableau en <a href="https://docs.python.org/3/tutorial/datastructures.html">Python</a>.</p>

<ul>
  <li>On peut le  définir en <strong>extension</strong> en énumérant toute la séquence :</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">t1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span><span class="mi">14</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t2</span> <span class="o">=</span> <span class="p">[</span><span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">]</span>
</code></pre></div></div>

<p><img src="images/tableau1.png" alt="tableau1" />{width=50%}\</p>

<ul>
  <li>On peut convertir en tableau un autre objet itérable (qui peut se parcourir avec une boucle <code class="language-plaintext highlighter-rouge">for</code>) avec le constructeur <code class="language-plaintext highlighter-rouge">list</code>.
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">t11</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t11</span>
<span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t12</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="s">'alphabet'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t12</span>
<span class="p">[</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'l'</span><span class="p">,</span> <span class="s">'p'</span><span class="p">,</span> <span class="s">'h'</span><span class="p">,</span> <span class="s">'a'</span><span class="p">,</span> <span class="s">'b'</span><span class="p">,</span> <span class="s">'e'</span><span class="p">,</span> <span class="s">'t'</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">list</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="n">File</span> <span class="s">"&lt;stdin&gt;"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="nb">TypeError</span><span class="p">:</span> <span class="s">'int'</span> <span class="nb">object</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">iterable</span>
</code></pre></div>    </div>
  </li>
  <li>On peut le définir en <strong>compréhension</strong> en générant ses éléments  par une boucle <code class="language-plaintext highlighter-rouge">for</code> sur un itérable ( générateur d’entiers <code class="language-plaintext highlighter-rouge">range</code>, autre tableau …) combinée éventuellement avec un filtrage par une instruction conditionnelle :
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">t3</span> <span class="o">=</span> <span class="p">[</span><span class="n">k</span> <span class="o">**</span> <span class="mi">2</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)]</span>  <span class="c1">#carrés des entiers entre 0 et 5
</span><span class="o">&gt;&gt;&gt;</span> <span class="n">t3</span>
<span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">25</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t4</span> <span class="o">=</span> <span class="p">[</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">t2</span><span class="p">))</span> <span class="k">if</span> <span class="n">t2</span><span class="p">[</span><span class="n">k</span><span class="p">]]</span>  <span class="c1"># index des éléments de t2 de valeur True
</span><span class="o">&gt;&gt;&gt;</span> <span class="n">t4</span>
<span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div>    </div>
    <p>:::</p>
  </li>
</ul>

<p>:::exercice</p>
<ol>
  <li>
    <p><em>Auteur : Germain Becker, question n°326 Genumsi</em>.</p>

    <p>Quel est le tableau <code class="language-plaintext highlighter-rouge">t</code> construit par les instructions suivantes ?</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">tab</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
 <span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">tab</span> <span class="k">if</span> <span class="n">e</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">]</span>
</code></pre></div>    </div>

    <ul>
      <li><strong>Réponse 1 :</strong>   <code class="language-plaintext highlighter-rouge">t = [1, 2, 7, 4, 10, 0]</code></li>
      <li><strong>Réponse 2 :</strong>    <code class="language-plaintext highlighter-rouge">t = [e, e, e, e, e, e]</code></li>
      <li><strong>Réponse 3 :</strong>   <code class="language-plaintext highlighter-rouge">t = [1, 2, 7, 4, 10]</code></li>
      <li><strong>Réponse 4 :</strong>    <code class="language-plaintext highlighter-rouge">t = [-3, -1, 0]</code></li>
    </ul>
  </li>
  <li>
    <p>Quel est le résultat de l’évaluation de l’expression Python suivante ? <em>Auteur : Eric Rougier</em></p>

    <p><code class="language-plaintext highlighter-rouge">[2 ** n for n in range(4)]</code></p>

    <p>Réponses :</p>

    <ul>
      <li><strong>Réponse 1 :</strong>  <code class="language-plaintext highlighter-rouge">[0, 2, 4, 6, 8]</code></li>
      <li><strong>Réponse 2 :</strong> <code class="language-plaintext highlighter-rouge">[1, 2, 4, 8]</code></li>
      <li><strong>Réponse 3 :</strong> <code class="language-plaintext highlighter-rouge">[0, 1, 4, 9]</code></li>
      <li><strong>Réponse 4 :</strong> <code class="language-plaintext highlighter-rouge">[1, 2, 4, 8, 16]</code></li>
    </ul>
  </li>
  <li>Qu’affiche le programme <a href="https://docs.python.org/3/tutorial/datastructures.html">Python</a> ci-dessous ?
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">L</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
  <span class="n">M</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
  <span class="n">N</span><span class="o">=</span><span class="p">[</span><span class="n">L</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="n">M</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">L</span><span class="p">))]</span>
  <span class="k">print</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>On exécute le script suivant :</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span><span class="p">]</span>

 <span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="n">elt</span> <span class="k">for</span> <span class="n">elt</span> <span class="ow">in</span> <span class="n">L</span> <span class="k">if</span> <span class="n">elt</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">]</span>
</code></pre></div>    </div>

    <p>Quelle est la valeur de <code class="language-plaintext highlighter-rouge">a</code> à la fin de son exécution ?</p>

    <ul>
      <li><strong>Réponse 1 :</strong> <code class="language-plaintext highlighter-rouge">[12,0,8]</code>   <strong>Réponse 2 :</strong>  <code class="language-plaintext highlighter-rouge">[12,0,8,7]</code></li>
      <li><strong>Réponse 3 :</strong>  <code class="language-plaintext highlighter-rouge">[0,3,1,3]</code>  <strong>Réponse 4 :</strong>  <code class="language-plaintext highlighter-rouge">[0,3,1]</code></li>
    </ul>
  </li>
</ol>

<p>:::</p>

<h1 id="opérations-sur-les-tableaux">Opérations sur les tableaux</h1>

<p>:::methode</p>

<ul>
  <li>On peut concaténer deux tableaux avec l’opérateur <code class="language-plaintext highlighter-rouge">+</code>, un nouveau tableau est renvoyé.
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">t1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t3</span> <span class="o">=</span> <span class="n">t1</span> <span class="o">+</span> <span class="n">t2</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t3</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
</code></pre></div>    </div>
  </li>
  <li>L’opérateur <code class="language-plaintext highlighter-rouge">*</code> permet d’itérer une concaténation et d’initialiser un tableau de taille quelconque avec une valeur par défaut. Attention, c’est le même élément qui est dupliqué !
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">t0</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">4</span>   <span class="c1">#un tableau de taille 4 initialisé à 0
</span><span class="o">&gt;&gt;&gt;</span> <span class="n">t0</span>
<span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">tv</span> <span class="o">=</span> <span class="p">[</span><span class="bp">True</span><span class="p">]</span> <span class="o">*</span> <span class="mi">6</span>  <span class="c1">#un tableau de taille 6 initialisé à True
</span><span class="o">&gt;&gt;&gt;</span> <span class="n">tv</span>
<span class="p">[</span><span class="bp">True</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">True</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">randint</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t1</span> <span class="o">=</span> <span class="p">[</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span>  <span class="c1">#5 lancers de dé à 6 faces
</span><span class="o">&gt;&gt;&gt;</span> <span class="n">t1</span>
<span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t2</span> <span class="o">=</span> <span class="p">[</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)]</span> <span class="o">*</span> <span class="mi">5</span> <span class="c1">#5 lancers de dé à 6 faces ?
</span><span class="o">&gt;&gt;&gt;</span> <span class="n">t2</span>                      <span class="c1">#non 5 fois le même lancer
</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
</code></pre></div>    </div>
    <p>:::</p>
  </li>
</ul>

<p>:::exercice</p>

<ol>
  <li>
    <p>On exécute le script suivant :</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
 <span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
 <span class="n">c</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
</code></pre></div>    </div>

    <p>Que contient la variable <code class="language-plaintext highlighter-rouge">c</code> à la fin de cette exécution ?</p>

    <p>Réponses :</p>

    <ul>
      <li>
        <p><strong>Réponse 1 :</strong>  <code class="language-plaintext highlighter-rouge">[5,7,9]</code>  <strong>Réponse 2 :</strong>  <code class="language-plaintext highlighter-rouge">[1,4,2,5,3,6]</code></p>
      </li>
      <li>
        <p><strong>Réponse 3 :</strong>  <code class="language-plaintext highlighter-rouge">[1,2,3,4,5,6]</code>   <strong>Réponse 4 :</strong>  <code class="language-plaintext highlighter-rouge">[1,2,3,5,7,9]</code></p>
      </li>
    </ul>
  </li>
  <li>
    <p>Soit la fonction <code class="language-plaintext highlighter-rouge">mystere</code> ci-dessous.</p>

    <p>Quelle est la valeur retournée par <code class="language-plaintext highlighter-rouge">mystere([831, 832, 833, 841, 842, 843])</code> ?</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">def</span> <span class="nf">mystere</span><span class="p">(</span><span class="n">u</span><span class="p">):</span>
   <span class="n">v</span> <span class="o">=</span> <span class="p">[]</span>
   <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">u</span><span class="p">)</span>
   <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
     <span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="n">u</span><span class="p">[</span><span class="n">k</span><span class="p">]]</span><span class="o">+</span><span class="n">v</span>
   <span class="k">return</span> <span class="n">v</span>
</code></pre></div>    </div>
  </li>
</ol>

<p>:::</p>

<h1 id="parcours-dun-tableau">Parcours d’un tableau</h1>

<p>:::methode</p>

<p>Il existe deux façons de parcourir un tableau en <a href="https://docs.python.org/3/tutorial/datastructures.html">Python</a> :</p>

<ol>
  <li><strong>Le parcours par élément</strong>, puisqu’un tableau de type <code class="language-plaintext highlighter-rouge">list</code> est <strong>itérable</strong> en <a href="https://docs.python.org/3/tutorial/datastructures.html">Python</a> :</li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="o">&gt;&gt;&gt;</span> <span class="n">t6</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
  <span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">t6</span><span class="p">:</span>
  <span class="p">...</span>     <span class="k">print</span><span class="p">(</span><span class="s">"valeur : "</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
  <span class="p">...</span> 
  <span class="n">valeur</span> <span class="p">:</span>  <span class="mi">3</span>
  <span class="n">valeur</span> <span class="p">:</span>  <span class="mi">1</span>
  <span class="n">valeur</span> <span class="p">:</span>  <span class="mi">4</span>
</code></pre></div></div>

<ol>
  <li><strong>Le parcours par index</strong>, permet de récupérer les indexs des éléments en plus de leurs valeurs :</li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">t6</span><span class="p">)):</span>
  <span class="p">...</span>     <span class="k">print</span><span class="p">(</span><span class="s">"valeur : "</span><span class="p">,</span> <span class="n">t6</span><span class="p">[</span><span class="n">k</span><span class="p">],</span> <span class="s">" index :"</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
  <span class="p">...</span> 
  <span class="n">valeur</span> <span class="p">:</span>  <span class="mi">3</span>  <span class="n">index</span> <span class="p">:</span> <span class="mi">0</span>
  <span class="n">valeur</span> <span class="p">:</span>  <span class="mi">1</span>  <span class="n">index</span> <span class="p">:</span> <span class="mi">1</span>
  <span class="n">valeur</span> <span class="p">:</span>  <span class="mi">4</span>  <span class="n">index</span> <span class="p">:</span> <span class="mi">2</span>
</code></pre></div></div>

<p>:::</p>

<p>:::exercice</p>
<ol>
  <li>Écrire une fonction <code class="language-plaintext highlighter-rouge">occurences(v, t)</code>  qui retourne le nombre d’occurences de la valeur <code class="language-plaintext highlighter-rouge">v</code>   dans le tableau <code class="language-plaintext highlighter-rouge">t</code>.</li>
  <li>
    <p><em>Auteur : Nicolas Réveret, question n°379 Genumsi</em></p>

    <p>On a saisi le code suivant :</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">liste</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
 <span class="n">compteur</span> <span class="o">=</span> <span class="mi">0</span>
 <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">liste</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">:</span>
     <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">liste</span><span class="p">))</span> <span class="p">:</span>
         <span class="n">compteur</span> <span class="o">+=</span> <span class="mi">1</span>
</code></pre></div>    </div>

    <p>Que contient la variable compteur à la fin de l’exécution de ce script ?</p>
  </li>
  <li>Revenons sur notre situation d’accroche.</li>
</ol>

<ul>
  <li>Écrire une fonction <code class="language-plaintext highlighter-rouge">somme(tab)</code> qui retourne la somme des éléments d’un tableau de nombres <code class="language-plaintext highlighter-rouge">tab</code>.</li>
  <li>Écrire une fonction <code class="language-plaintext highlighter-rouge">moyenne_arithmetique(tab)</code> qui retourne la moyenne arithmétique des éléments d’un tableau de nombres <code class="language-plaintext highlighter-rouge">tab</code>.</li>
</ul>

<ol>
  <li>
    <p>En voulant programmer une fonction qui calcule la valeur minimale d’un tableau d’entiers, on a écrit :</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">def</span> <span class="nf">minimum</span><span class="p">(</span><span class="n">L</span><span class="p">):</span>
     <span class="n">mini</span> <span class="o">=</span> <span class="mi">0</span>
     <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">L</span><span class="p">:</span>
         <span class="k">if</span> <span class="n">e</span> <span class="o">&lt;</span> <span class="n">mini</span><span class="p">:</span>
             <span class="n">mini</span> <span class="o">=</span> <span class="n">e</span>
     <span class="k">return</span> <span class="n">mini</span>
</code></pre></div>    </div>

    <p>Cette fonction a été mal programmée. Pour quel tableau ne donnera-t-elle
 pas le résultat attendu, c’est-à-dire son minimum ?</p>

    <p>Réponses :</p>

    <ul>
      <li><strong>Réponse 1 :</strong>  <code class="language-plaintext highlighter-rouge">[-1,-8,12,2,23]</code></li>
      <li><strong>Réponse 2:</strong>   <code class="language-plaintext highlighter-rouge">[0,18,12,2,3]</code></li>
      <li><strong>Réponse 3:</strong>   <code class="language-plaintext highlighter-rouge">[-1,-1,12,12,23]</code></li>
      <li><strong>Réponse 4:</strong>   <code class="language-plaintext highlighter-rouge">[1,8,12,2,23]</code></li>
    </ul>
  </li>
  <li>
    <p>Écrire une fonction <code class="language-plaintext highlighter-rouge">max_tab(tab)</code> qui retourne le maximum d’un tableau de nombres passé 
en paramètre.
:::</p>
  </li>
</ol>

<h1 id="aliasing">Aliasing</h1>

<h2 id="aliasing-et--copie-de-tableau">Aliasing et  copie de tableau</h2>

<p>:::cours</p>
<ul>
  <li>Pour les tableaux (type <code class="language-plaintext highlighter-rouge">list</code>), comme pour les autres types construits, le mécanisme de l’affectation de variable en <a href="https://docs.python.org/3/tutorial/datastructures.html">Python</a> diffère de celui des types  base : <code class="language-plaintext highlighter-rouge">int, float, bool</code>). Lors de l’affectation <code class="language-plaintext highlighter-rouge">tab = [6, 3, 1]</code>, la variable <code class="language-plaintext highlighter-rouge">tab</code> ne reçoit pas comme valeur les éléments du tableau mais une <strong>référence</strong> vers la zone mémoire où ils sont effectivement stockés. Ce mécanisme est désigné par le terme <em>d’aliasing</em>.</li>
  <li>
    <p>Illustrons ces différences en déroulant une séquence d’affectations avec <a href="http://pythontutor.com/visualize.html#mode=edit">Python-tutor</a>, où l’on copie par affectation  une variable de type <code class="language-plaintext highlighter-rouge">int</code> puis une variable de type <code class="language-plaintext highlighter-rouge">list</code>.</p>

    <ul>
      <li><strong>Étape 1 :</strong>  Si  <code class="language-plaintext highlighter-rouge">a</code> est de type de base (ici <code class="language-plaintext highlighter-rouge">int</code>), l’affectation <code class="language-plaintext highlighter-rouge">b = a</code> assigne à la variable <code class="language-plaintext highlighter-rouge">b</code> une copie de la valeur de la variable <code class="language-plaintext highlighter-rouge">a</code> (ici 50.)</li>
    </ul>

    <p><img src="images/aliasing1.png" alt="aliasing1" />\</p>

    <ul>
      <li><strong>Étape 2 :</strong>  Si  on modifie la valeur de <code class="language-plaintext highlighter-rouge">b</code>, la variable <code class="language-plaintext highlighter-rouge">a</code> n’est pas touchée, les deux variables sont indépendantes.</li>
    </ul>

    <p><img src="images/aliasing2.png" alt="aliasing2" />\</p>

    <ul>
      <li><strong>Étape 3 :</strong>  Si  on affecte le tableau <code class="language-plaintext highlighter-rouge">[14, 18]</code> à la variable <code class="language-plaintext highlighter-rouge">t1</code>, celle-ci ne prend pas pour valeur directement la séquence d’éléments du tableau mais une <strong>référence</strong>  vers cette séquence.</li>
    </ul>

    <p><img src="images/aliasing3.png" alt="aliasing3" />\</p>

    <ul>
      <li>
        <p><strong>Étape 4 :</strong>  Si  <code class="language-plaintext highlighter-rouge">t1</code> est de type construit  (ici <code class="language-plaintext highlighter-rouge">list</code>), l’affectation <code class="language-plaintext highlighter-rouge">t2 = t1</code> assigne à la variable <code class="language-plaintext highlighter-rouge">t2</code> une copie de la valeur de la variable <code class="language-plaintext highlighter-rouge">t1</code> comme pour les types de base, sauf que la valeur de <code class="language-plaintext highlighter-rouge">t1</code> est une <strong>référence</strong>. On dit que <code class="language-plaintext highlighter-rouge">t1</code> et <code class="language-plaintext highlighter-rouge">t2</code> partagent la même référence.</p>

        <p><img src="images/aliasing4.png" alt="aliasing4" />\</p>
      </li>
      <li>
        <p><strong>Étape 5 :</strong>  Comme <code class="language-plaintext highlighter-rouge">t1</code> et <code class="language-plaintext highlighter-rouge">t2</code> partagent la même référence, toute modification de <code class="language-plaintext highlighter-rouge">t1</code> touche <code class="language-plaintext highlighter-rouge">t2</code> et vice-versa. On parle <strong>d’effet de bord</strong>. Attention, il faut bien comprendre ce mécanisme pour éviter les effets de bord indésirables !</p>

        <p><img src="images/aliasing5.png" alt="aliasing5" />\</p>

        <p><img src="images/aliasing6.png" alt="aliasing6" />\</p>
      </li>
    </ul>
  </li>
  <li>
    <p>On peut réaliser une <strong>copie superficielle</strong> (ou <em>shallow copy</em>) d’un tableau ou d’une variable de type construit avec le mécanisme de <em>slicing</em>. Noys y reviendrons plus tard, pour les structures imbriquées (tableaux de tableaux), il faudra copier récursivement les valeurs correspondant à toutes  les références avec une <strong>copie profonde</strong>. Le module <code class="language-plaintext highlighter-rouge">copy</code> propose une fonction <code class="language-plaintext highlighter-rouge">copy</code> pour la copy superficielle et une fonction <code class="language-plaintext highlighter-rouge">deepcopy</code> pour la copie profonde.</p>

    <p><img src="images/shallow-copy.png" alt="shallow copy" />\</p>
  </li>
</ul>

<p>:::</p>

<p>:::exercice</p>

<ol>
  <li>Écrire une fonction <code class="language-plaintext highlighter-rouge">copie(tab)</code> qui retourne une copie superficielle du tableau <code class="language-plaintext highlighter-rouge">tab</code> sans utiliser de <em>slicing</em>.</li>
  <li>
    <p><em>Auteur : Nicolas Revéret</em></p>

    <p>On considère le code suivant :</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">tab</span><span class="p">):</span>
   <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">tab</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span><span class="p">):</span>
     <span class="n">tab</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">tab</span><span class="p">[</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">tab</span><span class="p">[</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="n">tab</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</code></pre></div>    </div>

    <p>Après les lignes suivantes :</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">tab</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]</span>
 <span class="n">f</span><span class="p">(</span><span class="n">tab</span><span class="p">)</span>
</code></pre></div>    </div>

    <p>Quelle est la valeur de la variable <code class="language-plaintext highlighter-rouge">tab</code> ?</p>

    <p>Réponses :</p>

    <ul>
      <li><strong>Réponse 1</strong> <code class="language-plaintext highlighter-rouge">[2,3,4,5,7,8]</code>  <strong>Réponse 2</strong>  <code class="language-plaintext highlighter-rouge">[5,7,8,2,3,4]</code></li>
      <li><strong>Réponse 3</strong>  <code class="language-plaintext highlighter-rouge">[8,7,5,4,3,2]</code>   <strong>Réponse 4</strong>  <code class="language-plaintext highlighter-rouge">[4,3,2,8,7,5]</code></li>
    </ul>
  </li>
</ol>

<p>:::</p>

<h2 id="aliasing-et-passage-de-tableau-en-paramètre-dune-fonction">Aliasing et passage de tableau en paramètre d’une fonction</h2>

<p>:::methode</p>

<p>En <a href="https://docs.python.org/3/tutorial/datastructures.html">Python</a>, lorsqu’on appelle une fonction avec des <strong>paramètres effectifs</strong>, les <strong>paramètres formels</strong> apparaissant dans la signature de la fonction, deviennent des variables locales à la fonction et reçoivent comme valeurs des copies des valeurs des paramètres effectifs. Les types construits, comme les tableaux de type <code class="language-plaintext highlighter-rouge">list</code>, ayant pour valeur une référence, le paramètre formel va partager la même référence et on va retrouver les mêmes effets de bord que dans la copie de tableau par affectation.</p>

<ul>
  <li>
    <p><strong>Étape 1 :</strong>  On définit une variable globale <code class="language-plaintext highlighter-rouge">a</code>  de type <code class="language-plaintext highlighter-rouge">int</code>, une variable <code class="language-plaintext highlighter-rouge">t1</code> de type <code class="language-plaintext highlighter-rouge">list</code> (un tableau), une fonction <code class="language-plaintext highlighter-rouge">incremente(x)</code> qui incrémente la valeur du paramètre  <code class="language-plaintext highlighter-rouge">x</code>  de type <code class="language-plaintext highlighter-rouge">int</code> et une fonction <code class="language-plaintext highlighter-rouge">incremente_tab(tab)</code> qui incrémente tous les éléments du paramètre <code class="language-plaintext highlighter-rouge">tab</code>de type <code class="language-plaintext highlighter-rouge">list</code>.</p>

    <p><img src="images/aliasing-fonction1.png" alt="fonction aliasing1" />\</p>
  </li>
  <li>
    <p><strong>Étape 2 :</strong>  On appelle <code class="language-plaintext highlighter-rouge">incremente(a)</code>  et on affecte la valeur retournée à une variable <code class="language-plaintext highlighter-rouge">b</code>. Lors de l’appel, le paramètre formel <code class="language-plaintext highlighter-rouge">x</code> prend pour valeur une copie de la valeur du paramètre effectif <code class="language-plaintext highlighter-rouge">a</code>.  La fonction retourne la valeur  6 après incrémentation de la variable  <code class="language-plaintext highlighter-rouge">x</code>,  les variables globale <code class="language-plaintext highlighter-rouge">a</code> et locale <code class="language-plaintext highlighter-rouge">x</code> sont indépendantes. <code class="language-plaintext highlighter-rouge">x</code> disparaît dès que l’appel de fonction se termine.</p>

    <p><img src="images/aliasing-fonction2.png" alt="fonction aliasing2" />\</p>

    <p><img src="images/aliasing-fonction25.png" alt="fonction aliasing2" />\</p>
  </li>
  <li>
    <p><strong>Étape 3 :</strong>  La variable  globale <code class="language-plaintext highlighter-rouge">b</code> a été affectée avec 6 la valeur retournée par <code class="language-plaintext highlighter-rouge">incremente(a)</code>. La variable <code class="language-plaintext highlighter-rouge">a</code> n’a pas été modifiée par effet de bord,. Lors de l’appel <code class="language-plaintext highlighter-rouge">incremente_tab(t1)</code>, le paramètre formel <code class="language-plaintext highlighter-rouge">tab</code> est affecté avec une copie de la valeur du paramètre effectif <code class="language-plaintext highlighter-rouge">t1</code>. Ce dernier n’est pas de type de base comme <code class="language-plaintext highlighter-rouge">a</code>, mais de type construit <code class="language-plaintext highlighter-rouge">list</code> donc sa valeur est un référence.</p>

    <p><img src="images/aliasing-fonction3.png" alt="fonction aliasing3" />\</p>
  </li>
  <li>
    <p><strong>Étape 4 :</strong>  La variable locale <code class="language-plaintext highlighter-rouge">tab</code> et la variable globale <code class="language-plaintext highlighter-rouge">t1</code>  partagent  une même référence : la fonction <code class="language-plaintext highlighter-rouge">incremente_tab</code> peut modifier le tableau référencé . La fonction <code class="language-plaintext highlighter-rouge">incremente_tab</code> renvoie <code class="language-plaintext highlighter-rouge">None</code> même si elle ne contient pas d’instruction <code class="language-plaintext highlighter-rouge">return</code>. Après l’appel de fonction, la variable globale <code class="language-plaintext highlighter-rouge">t1</code>  a été modifiée par par <strong>effet de bord</strong>. Une fonction qui modifie l’état de la mémoire du programme principale, sans renvoyer de valeur, s’appelle une <strong>procédure</strong>.</p>

    <p><img src="images/aliasing-fonction4.png" alt="fonction aliasing4" />\</p>

    <p><img src="images/aliasing-fonction5.png" alt="fonction aliasing5" />\</p>

    <p><img src="images/aliasing-fonction6.png" alt="fonction aliasing6" />\</p>
  </li>
</ul>

<p>:::</p>

<p>:::exercice</p>

<ol>
  <li>
    <p>On veut écrire une procédure <code class="language-plaintext highlighter-rouge">echange(tab, i, j)</code>  qui échange les éléments d’index <code class="language-plaintext highlighter-rouge">i</code> et <code class="language-plaintext highlighter-rouge">j</code> d’un tableau <code class="language-plaintext highlighter-rouge">tab</code>. On fournit le modèle ci-dessous :</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">def</span> <span class="nf">echange</span><span class="p">(</span><span class="n">tab</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">):</span>
   <span class="k">assert</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">tab</span><span class="p">)</span> <span class="ow">and</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">tab</span><span class="p">),</span> <span class="s">"message d'erreur"</span>
   <span class="c1"># à compléter
</span></code></pre></div>    </div>

    <ul>
      <li>Remplacer le message d’erreur de l’assertion par un message pertinent.</li>
      <li>Compléter la fonction.</li>
    </ul>
  </li>
  <li>
    <p>Écrire une procédure <code class="language-plaintext highlighter-rouge">permutation_circulaire(tab)</code> qui modifie la position des éléments du tableau <code class="language-plaintext highlighter-rouge">tab</code> par permutation circulaire de gauche à droite :</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="o">&gt;&gt;&gt;</span> <span class="n">t</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
  <span class="o">&gt;&gt;&gt;</span> <span class="n">t</span>
  <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
  <span class="o">&gt;&gt;&gt;</span> <span class="n">permutation_circulaire</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
  <span class="o">&gt;&gt;&gt;</span> <span class="n">t</span>
  <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
  <span class="o">&gt;&gt;&gt;</span> <span class="n">permutation_circulaire</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
  <span class="o">&gt;&gt;&gt;</span> <span class="n">t</span>
  <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</code></pre></div>    </div>
    <p>:::</p>
  </li>
</ol>

<h1 id="méthodes-de-tableau-dynamique-en-python">Méthodes de tableau dynamique en Python</h1>

<p>:::methode
Les tableaux <a href="https://docs.python.org/3/tutorial/datastructures.html">Python</a> sont dynamiques c’est-à-dire que leur taille peut évoluer. Pour un tableau <code class="language-plaintext highlighter-rouge">tab</code>, les fonctions permettant d’ajouter ou enlever des éléments sont des <strong>méthodes</strong> de l’objet <code class="language-plaintext highlighter-rouge">tab</code> qui s’utilisent avec la notation pointée <code class="language-plaintext highlighter-rouge">tab.methode(parametres)</code>. Un tableau étant de type <code class="language-plaintext highlighter-rouge">list</code> il est équivalent d’écrire <code class="language-plaintext highlighter-rouge">list.methode(tab, parametres)</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">t</span> <span class="o">=</span> <span class="p">[]</span>   <span class="c1">#tableau vide
</span><span class="o">&gt;&gt;&gt;</span> <span class="n">t</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>  <span class="c1">#ajout de l'élément 8 à la fin de t
</span><span class="o">&gt;&gt;&gt;</span> <span class="n">t</span>
<span class="p">[</span><span class="mi">8</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">list</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>  <span class="c1">#ajout de l'élément 7 à la fin de t
</span><span class="o">&gt;&gt;&gt;</span> <span class="n">t</span>
<span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
</code></pre></div></div>

<ul>
  <li>On peut ajouter un élément à la fin d’un tableau  avec la méthode <code class="language-plaintext highlighter-rouge">append</code>. On peut ainsi peupler un tableau initialement vide.
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">t5</span> <span class="o">=</span> <span class="p">[]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
<span class="p">...</span>     <span class="n">t5</span> <span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">k</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>
<span class="p">...</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="n">t5</span>
<span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
</code></pre></div>    </div>
  </li>
  <li>On peut insérer un élément  avec la méthode <code class="language-plaintext highlighter-rouge">insert</code> qui prend en paramètre l’index de l’élément une fois inséré. Les éléments à sa droite étant tous décalés vers la droite, l’insertion peut représenter un coût proportionnel à la taille du tableau si elle  se fait au début du tableau.
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">,</span> <span class="s">'d'</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">'b'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t</span>
<span class="p">[</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'b'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">,</span> <span class="s">'d'</span><span class="p">]</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>On peut extraire un élément  de deux façons :</p>

    <ul>
      <li>À partir de son index, avec la méthode <code class="language-plaintext highlighter-rouge">pop</code>, qui prend pour paramètre l’index de l’élément extrait,  le dernier par défaut. Tous les éléments à droite de l’élément extrait doivent être décalés vers la gauche, ce qui peut représenter un coût proportionnel à la taille du tableau si l’extraction se fait au début du tableau.
        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">carac</span> <span class="o">=</span> <span class="p">[</span><span class="nb">chr</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s">'a'</span><span class="p">),</span> <span class="nb">ord</span><span class="p">(</span><span class="s">'g'</span><span class="p">))]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">carac</span>
<span class="p">[</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'b'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">,</span> <span class="s">'d'</span><span class="p">,</span> <span class="s">'e'</span><span class="p">,</span> <span class="s">'f'</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">carac</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
<span class="s">'f'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">carac</span>
<span class="p">[</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'b'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">,</span> <span class="s">'d'</span><span class="p">,</span> <span class="s">'e'</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">carac</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="s">'a'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">carac</span>
<span class="p">[</span><span class="s">'b'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">,</span> <span class="s">'d'</span><span class="p">,</span> <span class="s">'e'</span><span class="p">]</span>
</code></pre></div>        </div>
      </li>
      <li>À partir de sa valeur avec la méthode <code class="language-plaintext highlighter-rouge">remove</code>, la première occurence trouvée de l’élément passée en paramètre est supprimée. Encore une fois, le coût peut être proportionnel à la taille du tableau si la suppression se fait au début.
        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t</span>
<span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="n">File</span> <span class="s">"&lt;stdin&gt;"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="nb">ValueError</span><span class="p">:</span> <span class="nb">list</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="n">x</span><span class="p">):</span> <span class="n">x</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>On peut compter le nombre d’occurences d’un élément dans un tableau avec la méthode <code class="language-plaintext highlighter-rouge">count</code>.
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1_000_000</span><span class="p">)]</span>  <span class="c1">#10**6 lancers de dés 
</span><span class="o">&gt;&gt;&gt;</span> <span class="n">t</span><span class="p">.</span><span class="n">count</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>  <span class="c1">#nombre de 6, cohérent non ?
</span><span class="mi">166821</span>
</code></pre></div>    </div>
    <p>:::</p>
  </li>
</ul>

<p>:::exercice</p>
<ol>
  <li>Écrire une fonction fonction <code class="language-plaintext highlighter-rouge">filtre_notes(tab)</code> qui extrait toutes les notes inférieures à 10 d’un tableau de notes entre 0 et 20 et les renvoie dans un autre tableau.</li>
  <li>Écrire une fonction renvoyant le maximum d’un tableau passé en paramètre et le tableau des positions où ce maximum est atteint.</li>
  <li>
    <p>On définit en Python la fonction suivante :</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">L</span><span class="p">):</span>
     <span class="n">S</span> <span class="o">=</span> <span class="p">[]</span>
     <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">L</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
         <span class="n">S</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">L</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">L</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>
     <span class="k">return</span> <span class="n">S</span>
</code></pre></div>    </div>

    <p>Quel est le tableau renvoyé par <code class="language-plaintext highlighter-rouge">f([1, 2, 3, 4, 5, 6])</code> ?</p>

    <ul>
      <li><strong>Réponse 1</strong> <code class="language-plaintext highlighter-rouge">[3, 5, 7, 9, 11, 13]</code></li>
      <li><strong>Réponse 2</strong>  <code class="language-plaintext highlighter-rouge">[1, 3, 5, 7, 9, 11]</code></li>
      <li><strong>Réponse 3</strong>  <code class="language-plaintext highlighter-rouge">[3, 5, 7, 9, 11]</code></li>
      <li><strong>Réponse 4</strong>  cet appel de fonction déclenche un message d’erreur</li>
    </ul>
  </li>
</ol>

<p>:::</p>
:ET